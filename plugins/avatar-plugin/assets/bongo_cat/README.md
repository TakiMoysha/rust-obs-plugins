# Bongo Cat Avatar Configuration

## Configuration

### avatar.json

Main configuration file, describing the entire avatar and used as input for obs plugin:

```json
{
  "avatar": {
    "name": "Bongo Cat",
    "version": "1.0.0",
    "settings": {
      "default_mode": "keyboard",
      "canvas_width": 1280,
      "canvas_height": 768
    },
    "faces": { ... },
    "modes": { ... },
    "keybindings": { ... },
    "animation": { ... }
  }
}
```

**–û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ–∫—Ü–∏–∏:**

- `settings` - –æ–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- `faces` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤—ã—Ä–∞–∂–µ–Ω–∏–π –ª–∏—Ü–∞
- `modes` - —Å–ø–∏—Å–æ–∫ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–∂–∏–º–æ–≤
- `keybindings` - –ø—Ä–∏–≤—è–∑–∫–∏ –∫–ª–∞–≤–∏—à
- `animation` - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–Ω–∏–º–∞—Ü–∏–∏
- `rendering` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
- `audio` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—É–¥–∏–æ-—Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

### 2. face/config.json

–ü—Ä–∏–≤—è–∑–∫–∞ –≥–æ—Ä—è—á–∏—Ö –∫–ª–∞–≤–∏—à –∫ –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º –ª–∏—Ü–∞:

```json
{
  "HotKey": ["f1", "f2", "f3", "f4"],
  "FaceImageName": ["0.png", "1.png", "2.png", "3.png"]
}
```

**–ü–æ–ª—è:**

- `HotKey` - –º–∞—Å—Å–∏–≤ –∫–ª–∞–≤–∏—à –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
- `FaceImageName` - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

**–í—ã—Ä–∞–∂–µ–Ω–∏—è:**

- F1 (0.png) - –ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ
- F2 (1.png) - –°—á–∞—Å—Ç–ª–∏–≤–æ–µ
- F3 (2.png) - –ì—Ä—É—Å—Ç–Ω–æ–µ
- F4 (3.png) - –£–¥–∏–≤–ª–µ–Ω–Ω–æ–µ

### 3. mode/config.json

–°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–µ–∂–∏–º–æ–≤:

```json
{
  "ModelPath": ["standard", "keyboard", "feixue", "bilibiliduo", "mania"]
}
```

**–ü–æ–ª—è:**

- `ModelPath` - –º–∞—Å—Å–∏–≤ –∏–º—ë–Ω –ø–∞–ø–æ–∫ —Å —Ä–µ–∂–∏–º–∞–º–∏

### 4. mode/{mode_name}/config.json

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `keyboard`):

```json
{
  "BackgroundImageName": "bg.png",
  "CatBackgroundImageName": "catbg.png",

  "HasModel": true,
  "CatModelPath": "model/cat",

  "KeysImagePath": "keyboard",
  "KeysImageName": ["0.png", "1.png", "2.png", ...],
  "KeyUse": ["lctrl", "lshift", "r", "down", "right", "left", "up"],

  "ModelHasLeftHandModel": false,
  "LeftHandImagePath": "lefthand",
  "LeftHandUpImageName": "leftup.png",
  "LeftHandImageName": ["0.png", "1.png", "2.png"],

  "ModelHasRightHandModel": false,
  "RightHandImagePath": "righthand",
  "RightHandUpImageName": "rightup.png",
  "RightHandImageName": ["0.png", "1.png", "2.png", "3.png"]
}
```

**–°–µ–∫—Ü–∏–∏:**

#### –§–æ–Ω—ã

- `BackgroundImageName` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–Ω
- `CatBackgroundImageName` - —Ñ–æ–Ω —Å –∫–æ—Ç–æ–º

#### Live2D –º–æ–¥–µ–ª—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

- `HasModel` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∏ Live2D –º–æ–¥–µ–ª—å
- `CatModelPath` - –ø—É—Ç—å –∫ –º–æ–¥–µ–ª–∏

#### –ö–ª–∞–≤–∏—à–∏

- `KeysImagePath` - –ø–∞–ø–∫–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –∫–ª–∞–≤–∏—à
- `KeysImageName` - —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- `KeyUse` - –ø—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–ª–∞–≤–∏—à–∞–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

#### –õ–µ–≤–∞—è —Ä—É–∫–∞

- `ModelHasLeftHandModel` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∏ Live2D (–æ–±—ã—á–Ω–æ false)
- `LeftHandImagePath` - –ø–∞–ø–∫–∞ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
- `LeftHandUpImageName` - —Ä—É–∫–∞ –≤ –ø–æ–¥–Ω—è—Ç–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏
- `LeftHandImageName` - –∫–∞–¥—Ä—ã –∞–Ω–∏–º–∞—Ü–∏–∏ –Ω–∞–∂–∞—Ç–∏—è

#### –ü—Ä–∞–≤–∞—è —Ä—É–∫–∞

- `ModelHasRightHandModel` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∏ Live2D
- `RightHandImagePath` - –ø–∞–ø–∫–∞ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
- `RightHandUpImageName` - —Ä—É–∫–∞ –≤ –ø–æ–¥–Ω—è—Ç–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏
- `RightHandImageName` - –∫–∞–¥—Ä—ã –∞–Ω–∏–º–∞—Ü–∏–∏ –Ω–∞–∂–∞—Ç–∏—è

## üéÆ –ü—Ä–∏–≤—è–∑–∫–∏ –∫–ª–∞–≤–∏—à

### –í—ã—Ä–∞–∂–µ–Ω–∏—è –ª–∏—Ü–∞

| –ö–ª–∞–≤–∏—à–∞ | –í—ã—Ä–∞–∂–µ–Ω–∏–µ   | –§–∞–π–ª  |
| ------- | ----------- | ----- |
| F1      | –ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ | 0.png |
| F2      | –°—á–∞—Å—Ç–ª–∏–≤–æ–µ  | 1.png |
| F3      | –ì—Ä—É—Å—Ç–Ω–æ–µ    | 2.png |
| F4      | –£–¥–∏–≤–ª–µ–Ω–Ω–æ–µ  | 3.png |

### –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤

| –ö–ª–∞–≤–∏—à–∞ | –†–µ–∂–∏–º        |
| ------- | ------------ |
| 1       | Keyboard     |
| 2       | Standard     |
| 3       | Feixue       |
| 4       | Bilibili Duo |
| 5       | Mania        |

### –î–µ–π—Å—Ç–≤–∏—è –≤ —Ä–µ–∂–∏–º–µ Keyboard

| –ö–ª–∞–≤–∏—à–∞ | –î–µ–π—Å—Ç–≤–∏–µ       | –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ    |
| ------- | -------------- | -------------- |
| lctrl   | –ö–ª–∞–≤–∏—à–∞ 0      | keyboard/0.png |
| lshift  | –ö–ª–∞–≤–∏—à–∞ 1      | keyboard/1.png |
| r       | –ö–ª–∞–≤–∏—à–∞ 2      | keyboard/2.png |
| down    | –°—Ç—Ä–µ–ª–∫–∞ –≤–Ω–∏–∑   | keyboard/3.png |
| right   | –°—Ç—Ä–µ–ª–∫–∞ –≤–ø—Ä–∞–≤–æ | keyboard/4.png |
| left    | –°—Ç—Ä–µ–ª–∫–∞ –≤–ª–µ–≤–æ  | keyboard/5.png |
| up      | –°—Ç—Ä–µ–ª–∫–∞ –≤–≤–µ—Ä—Ö  | keyboard/6.png |

## üé® –°–æ–∑–¥–∞–Ω–∏–µ —Å–≤–æ–∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –ª–∏—Ü–∞

1. –°–æ–∑–¥–∞–π—Ç–µ PNG —Ñ–∞–π–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, `4.png`)
2. –ü–æ–º–µ—Å—Ç–∏—Ç–µ –≤ `face/`
3. –û–±–Ω–æ–≤–∏—Ç–µ `face/config.json`:

```json
{
  "HotKey": ["f1", "f2", "f3", "f4", "f5"],
  "FaceImageName": ["0.png", "1.png", "2.png", "3.png", "4.png"]
}
```

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞

1. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É `mode/my_mode/`
2. –î–æ–±–∞–≤—å—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã:
   - `bg.png` - —Ñ–æ–Ω
   - `catbg.png` - —Ñ–æ–Ω —Å –∫–æ—Ç–æ–º
   - `lefthand/` - –ø–∞–ø–∫–∞ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
   - `righthand/` - –ø–∞–ø–∫–∞ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
3. –°–æ–∑–¥–∞–π—Ç–µ `config.json`:

```json
{
  "BackgroundImageName": "bg.png",
  "CatBackgroundImageName": "catbg.png",
  "HasModel": false,
  "LeftHandImagePath": "lefthand",
  "LeftHandUpImageName": "leftup.png",
  "LeftHandImageName": ["0.png", "1.png"],
  "RightHandImagePath": "righthand",
  "RightHandUpImageName": "rightup.png",
  "RightHandImageName": ["0.png", "1.png"]
}
```

4. –î–æ–±–∞–≤—å—Ç–µ –≤ `mode/config.json`:

```json
{
  "ModelPath": [
    "standard",
    "keyboard",
    "my_mode" // ‚Üê –Ω–æ–≤—ã–π —Ä–µ–∂–∏–º
  ]
}
```

## üìê –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º

### –û–±—â–∏–µ

- **–§–æ—Ä–º–∞—Ç**: PNG —Å –∞–ª—å—Ñ–∞-–∫–∞–Ω–∞–ª–æ–º
- **–¶–≤–µ—Ç–æ–≤–æ–π —Ä–µ–∂–∏–º**: RGBA
- **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å**: –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –Ω–∞–ª–æ–∂–µ–Ω–∏—è

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ä–∞–∑–º–µ—Ä—ã

#### –§–æ–Ω—ã

- `bg.png`: 1280x768 –∏–ª–∏ –±–æ–ª—å—à–µ
- `catbg.png`: 1280x768 –∏–ª–∏ –±–æ–ª—å—à–µ

#### –í—ã—Ä–∞–∂–µ–Ω–∏—è –ª–∏—Ü–∞

- –†–∞–∑–º–µ—Ä: ~400x400px
- –ü–æ–∑–∏—Ü–∏—è: –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ –≥–æ–ª–æ–≤–µ –∫–æ—Ç–∞

#### –†—É–∫–∏

- –†–∞–∑–º–µ—Ä: ~300x400px
- –¢–æ—á–∫–∞ –≤—Ä–∞—â–µ–Ω–∏—è: –£ –æ—Å–Ω–æ–≤–∞–Ω–∏—è (–ø–ª–µ—á–æ)

#### –ö–ª–∞–≤–∏—à–∏

- –†–∞–∑–º–µ—Ä: ~150x150px
- –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

### –ó–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ loader

```rust
use crate::loader::Avatar;
use std::path::Path;

// –ó–∞–≥—Ä—É–∑–∏—Ç—å –∞–≤–∞—Ç–∞—Ä
let avatar = Avatar::load(Path::new("./assets/bongo_cat"))?;

// –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∂–∏–º
let keyboard = avatar.get_mode("keyboard").unwrap();

// –ü–æ–ª—É—á–∏—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏–µ
let happy_face = avatar.get_face_by_key("f2").unwrap();
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π

```rust
// –ù–∞–∂–∞—Ç–∏–µ F2 - —Å–º–µ–Ω–∏—Ç—å –Ω–∞ —Å—á–∞—Å—Ç–ª–∏–≤–æ–µ –ª–∏—Ü–æ
if key == "f2" {
    if let Some(face) = avatar.get_face_by_key("f2") {
        // –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å face.data
    }
}

// –ù–∞–∂–∞—Ç–∏–µ –∫–ª–∞–≤–∏—à–∏ - –∞–Ω–∏–º–∞—Ü–∏—è
if let Some(mode) = avatar.get_mode("keyboard") {
    if let Some(key_img) = mode.key_images.get("lctrl") {
        // –ü–æ–∫–∞–∑–∞—Ç—å –Ω–∞–∂–∞—Ç–∏–µ –∫–ª–∞–≤–∏—à–∏
    }
}
```

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –ø—É—Ç–∏ –≤ –∫–æ–Ω—Ñ–∏–≥–∞—Ö –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã –∫ –ø–∞–ø–∫–µ –∞–≤–∞—Ç–∞—Ä–∞
- –ü–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –º–∞—Å—Å–∏–≤–∞—Ö –≤–∞–∂–µ–Ω (–∏–Ω–¥–µ–∫—Å—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥—É)
- Live2D –º–æ–¥–µ–ª–∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ PNG
- –î–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ PNG

## üîó –°–≤—è–∑–∞–Ω–Ω–æ–µ

- [LOADER_GUIDE.md](../../LOADER_GUIDE.md) - API –∑–∞–≥—Ä—É–∑—á–∏–∫–∞
- [avatar.json](avatar.json) - –ì–ª–∞–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- Reference: [Bongobs Cat Plugin](https://github.com/a1928370421/Bongobs-Cat-Plugin)
